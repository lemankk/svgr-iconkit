{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _react=_interopRequireWildcard(require(\"react\"));var _primitives=require(\"../../primitives\");var _useThemeProps=require(\"../../../hooks/useThemeProps\");var _this=this,_jsxFileName=\"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/composites/Avatar/Avatar.tsx\";var Avatar=function Avatar(_ref,ref){var wrapperRef=_ref.wrapperRef,props=(0,_objectWithoutProperties2.default)(_ref,[\"wrapperRef\"]);var _React$useState=_react.default.useState(false),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),error=_React$useState2[0],setError=_React$useState2[1];var size=props.size,style=props.style,source=props.source,children=props.children,remainingProps=(0,_objectWithoutProperties2.default)(props,[\"size\",\"style\",\"source\",\"children\"]);var _usePropsResolution=(0,_useThemeProps.usePropsResolution)('Avatar',(0,_extends2.default)({},remainingProps,{name:'avatar',size:size})),_text=_usePropsResolution._text,newProps=(0,_objectWithoutProperties2.default)(_usePropsResolution,[\"_text\"]);var Badge=_react.default.createElement(_react.default.Fragment,null);var remainingChildren=[];_react.default.Children.map(children,function(child,key){if(typeof child.type==='object'&&child.type.displayName==='AvatarBadge'){Badge=child;}else{remainingChildren.push(typeof child==='string'?_react.default.createElement(_primitives.Text,(0,_extends2.default)({key:'avatar-children-'+key},_text,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:28,columnNumber:11}}),child):child);}});var imageFitStyle={height:'100%',width:'100%'};return _react.default.createElement(_primitives.Box,(0,_extends2.default)({},newProps,{style:style,ref:wrapperRef,__self:_this,__source:{fileName:_jsxFileName,lineNumber:41,columnNumber:5}}),source&&!error?_react.default.createElement(_primitives.Image,{borderRadius:newProps.borderRadius,source:source,alt:'--',_alt:_text,style:[style,imageFitStyle],onError:function onError(){setError(true);},ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:43,columnNumber:9}}):remainingChildren.length===0?_react.default.createElement(_primitives.Text,(0,_extends2.default)({},_text,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:55,columnNumber:9}}),\"--\"):remainingChildren,Badge);};var _default=(0,_react.memo)((0,_react.forwardRef)(Avatar));exports.default=_default;","map":{"version":3,"sources":["Avatar.tsx"],"names":["Avatar","wrapperRef","props","error","setError","React","size","style","source","children","remainingProps","_text","newProps","name","Badge","remainingChildren","child","imageFitStyle","height","width"],"mappings":"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","sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport { Box, Image, Text } from '../../primitives';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport type { IAvatarProps } from './types';\n\nconst Avatar = ({ wrapperRef, ...props }: IAvatarProps, ref: any) => {\n  const [error, setError] = React.useState(false);\n  const { size, style, source, children, ...remainingProps } = props;\n\n  const { _text, ...newProps } = usePropsResolution('Avatar', {\n    ...remainingProps,\n    name: 'avatar',\n    size,\n  });\n\n  let Badge = <></>;\n  let remainingChildren: JSX.Element[] = [];\n  //  Pop Badge from children\n  React.Children.map(children, (child, key) => {\n    if (\n      typeof child.type === 'object' &&\n      child.type.displayName === 'AvatarBadge'\n    ) {\n      Badge = child;\n    } else {\n      remainingChildren.push(\n        typeof child === 'string' ? (\n          <Text key={'avatar-children-' + key} {..._text}>\n            {child}\n          </Text>\n        ) : (\n          child\n        )\n      );\n    }\n  });\n\n  const imageFitStyle = { height: '100%', width: '100%' };\n\n  return (\n    <Box {...newProps} style={style} ref={wrapperRef}>\n      {source && !error ? (\n        <Image\n          borderRadius={newProps.borderRadius}\n          source={source}\n          alt={'--'}\n          _alt={_text}\n          style={[style, imageFitStyle]}\n          onError={() => {\n            setError(true);\n          }}\n          ref={ref}\n        />\n      ) : remainingChildren.length === 0 ? (\n        <Text {..._text}>--</Text> // default alternate\n      ) : (\n        remainingChildren\n      )}\n      {Badge}\n    </Box>\n  );\n};\n\nexport default memo(forwardRef(Avatar));\n"]},"metadata":{},"sourceType":"script"}