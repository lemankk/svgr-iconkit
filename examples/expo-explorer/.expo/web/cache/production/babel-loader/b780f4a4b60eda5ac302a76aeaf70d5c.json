{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _react=_interopRequireDefault(require(\"react\"));var _hooks=require(\"../../../hooks\");var _FormControl=require(\"../FormControl\");var _Context=require(\"./Context\");var _Box=_interopRequireDefault(require(\"../../primitives/Box\"));var _this=this,_jsxFileName=\"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/composites/NumberInput/NumberInput.tsx\";var NumberInput=function NumberInput(_ref,ref){var children=_ref.children,props=(0,_objectWithoutProperties2.default)(_ref,[\"children\"]);var _useThemeProps=(0,_hooks.useThemeProps)('NumberInput',props),defaultValue=_useThemeProps.defaultValue,keepWithinRange=_useThemeProps.keepWithinRange,value=_useThemeProps.value,min=_useThemeProps.min,max=_useThemeProps.max,onChange=_useThemeProps.onChange,newProps=(0,_objectWithoutProperties2.default)(_useThemeProps,[\"defaultValue\",\"keepWithinRange\",\"value\",\"min\",\"max\",\"onChange\"]);var formControlContext=(0,_FormControl.useFormControlContext)();var _React$useState=_react.default.useState(parseInt(value||defaultValue,10)),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),numberInputValue=_React$useState2[0],setNumberInputValue=_React$useState2[1];var _React$useState3=_react.default.useState(null),_React$useState4=(0,_slicedToArray2.default)(_React$useState3,2),numberInputStepper=_React$useState4[0],setNumberInputStepper=_React$useState4[1];var handleChange=function handleChange(newValue){var temp=newValue;setNumberInputValue(temp);if(keepWithinRange){if(newValue<min)setNumberInputValue(min);else if(newValue>max)setNumberInputValue(max);}onChange&&onChange(temp);};var handleChangeWithoutCheck=function handleChangeWithoutCheck(newValue){var temp=newValue;setNumberInputValue(temp);};_react.default.useEffect(function(){if(value!==undefined&&value!=numberInputValue)setNumberInputValue(value);},[value,numberInputValue,setNumberInputValue]);return _react.default.createElement(_Box.default,{ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:44,columnNumber:5}},_react.default.createElement(_Context.NumberInputContext.Provider,{value:(0,_extends2.default)({},formControlContext,newProps,{min:min,max:max,handleChange:handleChange,handleChangeWithoutCheck:handleChangeWithoutCheck,numberInputValue:numberInputValue,numberInputStepper:numberInputStepper,setNumberInputStepper:setNumberInputStepper,isControlled:value!==undefined}),__self:_this,__source:{fileName:_jsxFileName,lineNumber:45,columnNumber:7}},children));};var _default=_react.default.memo(_react.default.forwardRef(NumberInput));exports.default=_default;","map":{"version":3,"sources":["NumberInput.tsx"],"names":["NumberInput","children","props","defaultValue","keepWithinRange","value","min","max","onChange","newProps","formControlContext","numberInputValue","setNumberInputValue","React","parseInt","numberInputStepper","setNumberInputStepper","handleChange","temp","newValue","handleChangeWithoutCheck","isControlled"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useThemeProps } from '../../../hooks';\nimport { useFormControlContext } from '../FormControl';\nimport type { INumberInputProps } from './types';\nimport { NumberInputContext } from './Context';\nimport Box from '../../primitives/Box';\n\nconst NumberInput = ({ children, ...props }: INumberInputProps, ref?: any) => {\n  const {\n    defaultValue,\n    keepWithinRange,\n    value,\n    min,\n    max,\n    onChange,\n    ...newProps\n  } = useThemeProps('NumberInput', props);\n  const formControlContext = useFormControlContext();\n\n  const [numberInputValue, setNumberInputValue] = React.useState(\n    parseInt(value || defaultValue, 10)\n  );\n  const [numberInputStepper, setNumberInputStepper] = React.useState(null);\n  const handleChange = (newValue: number) => {\n    const temp = newValue;\n    setNumberInputValue(temp);\n    if (keepWithinRange) {\n      if (newValue < min) setNumberInputValue(min);\n      else if (newValue > max) setNumberInputValue(max);\n    }\n    //NOTE: only calling onChange on stepper click or blur event of input.\n    onChange && onChange(temp);\n  };\n  const handleChangeWithoutCheck = (newValue: number) => {\n    const temp = newValue;\n    setNumberInputValue(temp);\n  };\n\n  React.useEffect(() => {\n    if (value !== undefined && value != numberInputValue)\n      setNumberInputValue(value);\n  }, [value, numberInputValue, setNumberInputValue]);\n  return (\n    <Box ref={ref}>\n      <NumberInputContext.Provider\n        value={{\n          ...formControlContext,\n          ...newProps,\n          min,\n          max,\n          handleChange,\n          handleChangeWithoutCheck,\n          numberInputValue,\n          numberInputStepper,\n          setNumberInputStepper,\n          isControlled: value !== undefined,\n        }}\n      >\n        {children}\n      </NumberInputContext.Provider>\n    </Box>\n  );\n};\n\nexport default React.memo(React.forwardRef(NumberInput));\n"]},"metadata":{},"sourceType":"script"}