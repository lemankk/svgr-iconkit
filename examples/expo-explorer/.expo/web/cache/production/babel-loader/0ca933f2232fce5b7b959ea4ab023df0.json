{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.useToast=exports.ToastProvider=void 0;var _toConsumableArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _defineProperty2=_interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _extends4=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _overlays=require(\"@react-native-aria/overlays\");var _Transitions=require(\"../Transitions\");var _VStack=_interopRequireDefault(require(\"../../primitives/Stack/VStack\"));var _Alert=require(\"../../composites/Alert\");var _react=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native-web/dist/index\");var _IconButton=_interopRequireDefault(require(\"../IconButton\"));var _Box=_interopRequireDefault(require(\"../../primitives/Box\"));var _hooks=require(\"../../../hooks\");var _Icons=require(\"../../primitives/Icon/Icons\");var _this=this,_jsxFileName=\"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/composites/Toast/Toast.tsx\";var INSET=50;var POSITIONS={'top':{top:INSET,left:0,right:0},'top-right':{top:INSET,right:0},'top-left':{top:INSET,left:0},'bottom':{bottom:INSET,left:0,right:0},'bottom-left':{bottom:INSET,left:0},'bottom-right':{bottom:INSET,right:0}};var initialAnimationOffset=24;var transitionConfig={'bottom':initialAnimationOffset,'top':-initialAnimationOffset,'top-right':-initialAnimationOffset,'top-left':-initialAnimationOffset,'bottom-left':initialAnimationOffset,'bottom-right':initialAnimationOffset};var ToastContext=(0,_react.createContext)({toastInfo:{},setToastInfo:function setToastInfo(){},setToast:function setToast(){},removeToast:function removeToast(){},hideAll:function hideAll(){},isActive:function isActive(){return false;},visibleToasts:{},setVisibleToasts:function setVisibleToasts(){},hideToast:function hideToast(){}});var CustomToast=function CustomToast(){var _React$useContext=_react.default.useContext(ToastContext),toastInfo=_React$useContext.toastInfo,visibleToasts=_React$useContext.visibleToasts,removeToast=_React$useContext.removeToast;var getPositions=function getPositions(){return Object.keys(toastInfo);};return getPositions().length>0?_react.default.createElement(_overlays.OverlayContainer,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:82,columnNumber:5}},getPositions().map(function(position){if(Object.keys(POSITIONS).includes(position))return _react.default.createElement(_VStack.default,(0,_extends4.default)({margin:\"auto\",key:position},POSITIONS[position],{position:\"absolute\",space:2,alignItems:\"center\",justifyContent:\"center\",__self:_this,__source:{fileName:_jsxFileName,lineNumber:86,columnNumber:13}}),toastInfo[position].map(function(toast){return _react.default.createElement(_Transitions.PresenceTransition,{key:toast.id,visible:visibleToasts[toast.id],onTransitionComplete:function onTransitionComplete(status){if(status==='exited'){var _toast$config,_toast$config2;removeToast(toast.id);((_toast$config=toast.config)==null?void 0:_toast$config.onCloseComplete)&&((_toast$config2=toast.config)==null?void 0:_toast$config2.onCloseComplete());}},initial:{opacity:0,translateY:transitionConfig[position]},animate:{opacity:1,transition:{easing:_reactNative.Easing.ease,duration:250}},exit:{opacity:0,scale:0.85,transition:{easing:_reactNative.Easing.ease,duration:100}},__self:_this,__source:{fileName:_jsxFileName,lineNumber:99,columnNumber:19}},_react.default.createElement(_reactNative.SafeAreaView,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:123,columnNumber:21}},toast.component));}));else return null;})):null;};var ToastProvider=function ToastProvider(_ref){var children=_ref.children;var _useState=(0,_react.useState)({}),_useState2=(0,_slicedToArray2.default)(_useState,2),toastInfo=_useState2[0],setToastInfo=_useState2[1];var _useState3=(0,_react.useState)({}),_useState4=(0,_slicedToArray2.default)(_useState3,2),visibleToasts=_useState4[0],setVisibleToasts=_useState4[1];var themeProps=(0,_hooks.useThemeProps)('Toast',{});var toastIndex=_react.default.useRef(1);var hideAll=function hideAll(){setVisibleToasts({});};var hideToast=function hideToast(id){setVisibleToasts(function(prevVisibleToasts){return(0,_extends4.default)({},prevVisibleToasts,(0,_defineProperty2.default)({},id,false));});};var isActive=function isActive(id){for(var _i=0,_Object$keys=Object.keys(toastInfo);_i<_Object$keys.length;_i++){var toastPosition=_Object$keys[_i];var positionArray=toastInfo[toastPosition];return positionArray.findIndex(function(toastData){return toastData.id===id;})>-1;}return false;};var removeToast=function removeToast(id){setToastInfo(function(prev){for(var _i2=0,_Object$keys2=Object.keys(prev);_i2<_Object$keys2.length;_i2++){var toastPosition=_Object$keys2[_i2];var positionArray=prev[toastPosition];var isToastPresent=positionArray.findIndex(function(toastData){return toastData.id===id;})>-1;if(isToastPresent){var newPositionArray=positionArray.filter(function(item){return item.id!==id;});var temp={};temp[toastPosition]=newPositionArray;var newToastInfo=(0,_extends4.default)({},prev,temp);return newToastInfo;}}return prev;});};var setToast=function setToast(props){var _props$placement=props.placement,placement=_props$placement===void 0?'bottom':_props$placement,title=props.title,render=props.render,status=props.status,_props$id=props.id,id=_props$id===void 0?toastIndex.current++:_props$id,description=props.description,_props$isClosable=props.isClosable,isClosable=_props$isClosable===void 0?true:_props$isClosable,_props$duration=props.duration,duration=_props$duration===void 0?5000:_props$duration,variant=props.variant,accessibilityAnnouncement=props.accessibilityAnnouncement,_props$accessibilityL=props.accessibilityLiveRegion,accessibilityLiveRegion=_props$accessibilityL===void 0?'polite':_props$accessibilityL,rest=(0,_objectWithoutProperties2.default)(props,[\"placement\",\"title\",\"render\",\"status\",\"id\",\"description\",\"isClosable\",\"duration\",\"variant\",\"accessibilityAnnouncement\",\"accessibilityLiveRegion\"]);var positionToastArray=toastInfo[placement];if(!positionToastArray)positionToastArray=[];var component=null;if(render){component=render({id:toastIndex.current});}else if(!status&&!variant){component=_react.default.createElement(_VStack.default,(0,_extends4.default)({space:1},themeProps,rest,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:210,columnNumber:9}}),_react.default.createElement(_Box.default,{_text:themeProps._title,__self:_this,__source:{fileName:_jsxFileName,lineNumber:211,columnNumber:11}},title),description&&_react.default.createElement(_Box.default,{_text:themeProps._description,__self:_this,__source:{fileName:_jsxFileName,lineNumber:213,columnNumber:13}},description));}else if(status||variant){component=_react.default.createElement(_Alert.Alert,(0,_extends4.default)({status:status!=null?status:'info',variant:variant,accessibilityLiveRegion:accessibilityLiveRegion,action:isClosable?_react.default.createElement(_IconButton.default,{onPress:function onPress(){hideToast(id);},icon:_react.default.createElement(_Icons.CloseIcon,{size:themeProps._closeIcon,__self:_this,__source:{fileName:_jsxFileName,lineNumber:229,columnNumber:23}}),__self:_this,__source:{fileName:_jsxFileName,lineNumber:225,columnNumber:15}}):undefined},rest,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:219,columnNumber:9}}),_react.default.createElement(_Alert.Alert.Icon,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:235,columnNumber:11}}),_react.default.createElement(_VStack.default,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:236,columnNumber:11}},_react.default.createElement(_Alert.Alert.Title,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:237,columnNumber:13}},title),description?_react.default.createElement(_Alert.Alert.Description,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:239,columnNumber:15}},description):null));}toastInfo[placement]=[].concat((0,_toConsumableArray2.default)(positionToastArray),[{component:component,id:id,config:props}]);setToastInfo((0,_extends4.default)({},toastInfo));setVisibleToasts((0,_extends4.default)({},visibleToasts,(0,_defineProperty2.default)({},id,true)));if(duration!==null){setTimeout(function(){hideToast(id);},duration);}if(accessibilityAnnouncement&&_reactNative.Platform.OS==='ios'){_reactNative.AccessibilityInfo.announceForAccessibility(accessibilityAnnouncement);}return id;};return _react.default.createElement(ToastContext.Provider,{value:{toastInfo:toastInfo,setToastInfo:setToastInfo,setToast:setToast,removeToast:removeToast,hideAll:hideAll,isActive:isActive,visibleToasts:visibleToasts,setVisibleToasts:setVisibleToasts,hideToast:hideToast},__self:_this,__source:{fileName:_jsxFileName,lineNumber:269,columnNumber:5}},children,_react.default.createElement(CustomToast,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:283,columnNumber:7}}));};exports.ToastProvider=ToastProvider;var useToast=function useToast(){var _React$useContext2=_react.default.useContext(ToastContext),setToast=_React$useContext2.setToast,hideAll=_React$useContext2.hideAll,isActive=_React$useContext2.isActive,hideToast=_React$useContext2.hideToast;var toast={show:setToast,close:hideToast,closeAll:hideAll,isActive:isActive};return toast;};exports.useToast=useToast;","map":{"version":3,"sources":["Toast.tsx"],"names":["INSET","POSITIONS","top","left","right","bottom","initialAnimationOffset","transitionConfig","ToastContext","toastInfo","setToastInfo","setToast","removeToast","hideAll","isActive","visibleToasts","setVisibleToasts","hideToast","CustomToast","React","getPositions","Object","toast","status","opacity","translateY","transition","easing","Easing","duration","scale","ToastProvider","children","themeProps","toastIndex","toastPosition","positionArray","toastData","prev","isToastPresent","newPositionArray","item","temp","newToastInfo","placement","title","render","id","description","isClosable","variant","accessibilityAnnouncement","accessibilityLiveRegion","rest","props","positionToastArray","component","config","setTimeout","Platform","AccessibilityInfo","useToast","show","close","closeAll"],"mappings":"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","sourcesContent":["import { OverlayContainer } from '@react-native-aria/overlays';\nimport { PresenceTransition } from '../Transitions';\nimport VStack from '../../primitives/Stack/VStack';\nimport { Alert } from '../../composites/Alert';\nimport React, { createContext, useState } from 'react';\nimport {\n  AccessibilityInfo,\n  Easing,\n  Platform,\n  SafeAreaView,\n} from 'react-native';\nimport IconButton from '../IconButton';\nimport Box from '../../primitives/Box';\nimport { useThemeProps } from '../../../hooks';\nimport { CloseIcon } from '../../primitives/Icon/Icons';\nimport type { IToastContext, IToastInfo, IToast, IToastProps } from './types';\n\nlet INSET = 50;\n\nconst POSITIONS = {\n  'top': {\n    top: INSET,\n    left: 0,\n    right: 0,\n  },\n  'top-right': {\n    top: INSET,\n    right: 0,\n  },\n  'top-left': {\n    top: INSET,\n    left: 0,\n  },\n  'bottom': {\n    bottom: INSET,\n    left: 0,\n    right: 0,\n  },\n  'bottom-left': {\n    bottom: INSET,\n    left: 0,\n  },\n  'bottom-right': {\n    bottom: INSET,\n    right: 0,\n  },\n};\n\nconst initialAnimationOffset = 24;\n\nconst transitionConfig: any = {\n  'bottom': initialAnimationOffset,\n  'top': -initialAnimationOffset,\n  'top-right': -initialAnimationOffset,\n  'top-left': -initialAnimationOffset,\n  'bottom-left': initialAnimationOffset,\n  'bottom-right': initialAnimationOffset,\n};\n\nconst ToastContext = createContext<IToastContext>({\n  toastInfo: {},\n  setToastInfo: () => {},\n  setToast: () => {},\n  removeToast: () => {},\n  hideAll: () => {},\n  isActive: () => false,\n  visibleToasts: {},\n  setVisibleToasts: () => {},\n  hideToast: () => {},\n});\n\nconst CustomToast = () => {\n  const { toastInfo, visibleToasts, removeToast } = React.useContext(\n    ToastContext\n  );\n\n  const getPositions = () => {\n    return Object.keys(toastInfo);\n  };\n\n  return getPositions().length > 0 ? (\n    <OverlayContainer>\n      {getPositions().map((position: string) => {\n        if (Object.keys(POSITIONS).includes(position))\n          return (\n            <VStack\n              margin=\"auto\"\n              key={position}\n              // @ts-ignore\n              {...POSITIONS[position]}\n              position=\"absolute\"\n              space={2}\n              alignItems=\"center\"\n              justifyContent=\"center\"\n            >\n              {\n                // @ts-ignore\n                toastInfo[position].map((toast: IToast) => (\n                  <PresenceTransition\n                    key={toast.id}\n                    visible={visibleToasts[toast.id]}\n                    onTransitionComplete={(status: any) => {\n                      if (status === 'exited') {\n                        removeToast(toast.id);\n                        toast.config?.onCloseComplete &&\n                          toast.config?.onCloseComplete();\n                      }\n                    }}\n                    initial={{\n                      opacity: 0,\n                      translateY: transitionConfig[position],\n                    }}\n                    animate={{\n                      opacity: 1,\n                      transition: { easing: Easing.ease, duration: 250 },\n                    }}\n                    exit={{\n                      opacity: 0,\n                      scale: 0.85,\n                      transition: { easing: Easing.ease, duration: 100 },\n                    }}\n                  >\n                    <SafeAreaView>{toast.component}</SafeAreaView>\n                  </PresenceTransition>\n                ))\n              }\n            </VStack>\n          );\n        else return null;\n      })}\n    </OverlayContainer>\n  ) : null;\n};\n\nexport const ToastProvider = ({ children }: { children: any }) => {\n  const [toastInfo, setToastInfo] = useState<IToastInfo>({});\n  const [visibleToasts, setVisibleToasts] = useState<\n    { [key in string]: boolean }\n  >({});\n  const themeProps = useThemeProps('Toast', {});\n  let toastIndex = React.useRef(1);\n\n  const hideAll = () => {\n    setVisibleToasts({});\n  };\n\n  const hideToast = (id: any) => {\n    setVisibleToasts((prevVisibleToasts) => ({\n      ...prevVisibleToasts,\n      [id]: false,\n    }));\n  };\n\n  const isActive = (id: any) => {\n    for (let toastPosition of Object.keys(toastInfo)) {\n      // @ts-ignore\n      let positionArray: Array<IToast> = toastInfo[toastPosition];\n      return positionArray.findIndex((toastData) => toastData.id === id) > -1;\n    }\n\n    return false;\n  };\n\n  const removeToast = (id: any) => {\n    setToastInfo((prev) => {\n      for (let toastPosition of Object.keys(prev)) {\n        // @ts-ignore\n        let positionArray: Array<IToast> = prev[toastPosition];\n        const isToastPresent =\n          positionArray.findIndex((toastData) => toastData.id === id) > -1;\n\n        if (isToastPresent) {\n          let newPositionArray = positionArray.filter((item) => item.id !== id);\n          let temp: any = {};\n          temp[toastPosition] = newPositionArray;\n\n          let newToastInfo = { ...prev, ...temp };\n          return newToastInfo;\n        }\n      }\n\n      return prev;\n    });\n  };\n\n  const setToast = (props: IToastProps): number => {\n    const {\n      placement = 'bottom',\n      title,\n      render,\n      status,\n      id = toastIndex.current++,\n      description,\n      isClosable = true,\n      duration = 5000,\n      variant,\n      accessibilityAnnouncement,\n      accessibilityLiveRegion = 'polite',\n      ...rest\n    } = props;\n    let positionToastArray = toastInfo[placement];\n    if (!positionToastArray) positionToastArray = [];\n\n    let component = null;\n\n    if (render) {\n      component = render({ id: toastIndex.current });\n    } else if (!status && !variant) {\n      component = (\n        <VStack space={1} {...themeProps} {...rest}>\n          <Box _text={themeProps._title}>{title}</Box>\n          {description && (\n            <Box _text={themeProps._description}>{description}</Box>\n          )}\n        </VStack>\n      );\n    } else if (status || variant) {\n      component = (\n        <Alert\n          status={status ?? 'info'}\n          variant={variant as any}\n          accessibilityLiveRegion={accessibilityLiveRegion}\n          action={\n            isClosable ? (\n              <IconButton\n                onPress={() => {\n                  hideToast(id);\n                }}\n                icon={<CloseIcon size={themeProps._closeIcon} />}\n              />\n            ) : undefined\n          }\n          {...rest}\n        >\n          <Alert.Icon />\n          <VStack>\n            <Alert.Title>{title}</Alert.Title>\n            {description ? (\n              <Alert.Description>{description}</Alert.Description>\n            ) : null}\n          </VStack>\n        </Alert>\n      );\n    }\n\n    toastInfo[placement] = [\n      ...positionToastArray,\n      { component, id, config: props },\n    ];\n\n    setToastInfo({ ...toastInfo });\n\n    setVisibleToasts({ ...visibleToasts, [id]: true });\n    if (duration !== null) {\n      setTimeout(function () {\n        hideToast(id);\n      }, duration);\n    }\n\n    // iOS doesn't support accessibilityLiveRegion\n    if (accessibilityAnnouncement && Platform.OS === 'ios') {\n      AccessibilityInfo.announceForAccessibility(accessibilityAnnouncement);\n    }\n\n    return id;\n  };\n\n  return (\n    <ToastContext.Provider\n      value={{\n        toastInfo,\n        setToastInfo,\n        setToast,\n        removeToast,\n        hideAll,\n        isActive,\n        visibleToasts,\n        setVisibleToasts,\n        hideToast,\n      }}\n    >\n      {children}\n      <CustomToast />\n    </ToastContext.Provider>\n  );\n};\n\nexport const useToast = () => {\n  const { setToast, hideAll, isActive, hideToast } = React.useContext(\n    ToastContext\n  );\n\n  const toast = {\n    show: setToast,\n    close: hideToast,\n    closeAll: hideAll,\n    isActive,\n  };\n\n  return toast;\n};\n"]},"metadata":{},"sourceType":"script"}