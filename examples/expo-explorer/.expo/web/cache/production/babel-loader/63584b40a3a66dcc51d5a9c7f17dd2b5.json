{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _react=_interopRequireWildcard(require(\"react\"));var _slider=require(\"@react-stately/slider\");var _hooks=require(\"../../../hooks\");var _useThemeProps=require(\"../../../hooks/useThemeProps\");var _Box=_interopRequireDefault(require(\"../Box\"));var _Context=require(\"./Context\");var _slider2=require(\"@react-native-aria/slider\");var _jsxFileName=\"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/primitives/Slider/Slider.tsx\";function Slider(props,ref){var _props$accessibilityL;var newProps=(0,_extends2.default)({},props,{'aria-label':(_props$accessibilityL=props.accessibilityLabel)!=null?_props$accessibilityL:'Slider'});if(typeof props.value==='number'){newProps.value=[props.value];}if(typeof props.defaultValue==='number'){newProps.defaultValue=[props.defaultValue];}props=newProps;var _useLayout=(0,_hooks.useLayout)(),onLayout=_useLayout.onLayout,trackLayout=_useLayout.layout;var state=(0,_slider.useSliderState)((0,_extends2.default)({},props,{numberFormatter:{format:function format(e){return e;}},minValue:props.minValue,maxValue:props.maxValue,onChange:function onChange(val){props.onChange&&props.onChange(val[0]);},onChangeEnd:function onChangeEnd(val){props.onChangeEnd&&props.onChangeEnd(val[0]);}}));var themeProps=(0,_useThemeProps.usePropsResolution)('Slider',props);var _useSlider=(0,_slider2.useSlider)(props,state,trackLayout),trackProps=_useSlider.trackProps;var wrapperStyle={height:props.orientation==='vertical'?'100%':undefined,width:props.orientation!=='vertical'?'100%':undefined};return _react.default.createElement(_Context.SliderContext.Provider,{value:{trackLayout:trackLayout,state:state,orientation:props.orientation,isReversed:props.isReversed,colorScheme:props.colorScheme,trackProps:trackProps,onTrackLayout:onLayout,thumbSize:themeProps.thumbSize,sliderSize:themeProps.sliderSize},__self:this,__source:{fileName:_jsxFileName,lineNumber:54,columnNumber:5}},_react.default.createElement(_Box.default,(0,_extends2.default)({},wrapperStyle,{justifyContent:\"center\",ref:ref,alignItems:\"center\"},themeProps,{__self:this,__source:{fileName:_jsxFileName,lineNumber:67,columnNumber:7}}),_react.default.Children.map(props.children,function(child,index){if(child.displayName==='SliderThumb'){return _react.default.cloneElement(child,{index:index});}return child;})));}var _default=(0,_react.forwardRef)(Slider);exports.default=_default;","map":{"version":3,"sources":["Slider.tsx"],"names":["newProps","props","onLayout","trackLayout","state","numberFormatter","format","minValue","maxValue","onChange","val","onChangeEnd","themeProps","trackProps","wrapperStyle","height","width","orientation","isReversed","colorScheme","onTrackLayout","thumbSize","sliderSize","React","child","index"],"mappings":"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","sourcesContent":["import React, { forwardRef } from 'react';\nimport { useSliderState } from '@react-stately/slider';\nimport { useLayout } from '../../../hooks';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport type { ISliderProps } from './types';\nimport Box from '../Box';\nimport { SliderContext } from './Context';\nimport { useSlider } from '@react-native-aria/slider';\n\nfunction Slider(props: ISliderProps, ref?: any) {\n  let newProps = {\n    ...props,\n    'aria-label': props.accessibilityLabel ?? 'Slider',\n  };\n\n  if (typeof props.value === 'number') {\n    //@ts-ignore - React Native Aria slider accepts array of values\n    newProps.value = [props.value];\n  }\n\n  if (typeof props.defaultValue === 'number') {\n    //@ts-ignore - React Native Aria slider accepts array of values\n    newProps.defaultValue = [props.defaultValue];\n  }\n\n  props = newProps;\n\n  const { onLayout, layout: trackLayout } = useLayout();\n\n  const state = useSliderState({\n    ...props,\n    //@ts-ignore\n    numberFormatter: { format: (e) => e },\n    minValue: props.minValue,\n    maxValue: props.maxValue,\n    onChange: (val: any) => {\n      props.onChange && props.onChange(val[0]);\n    },\n    onChangeEnd: (val: any) => {\n      props.onChangeEnd && props.onChangeEnd(val[0]);\n    },\n  });\n\n  const themeProps = usePropsResolution('Slider', props);\n\n  let { trackProps } = useSlider((props as unknown) as any, state, trackLayout);\n\n  const wrapperStyle = {\n    height: props.orientation === 'vertical' ? '100%' : undefined,\n    width: props.orientation !== 'vertical' ? '100%' : undefined,\n  };\n\n  return (\n    <SliderContext.Provider\n      value={{\n        trackLayout,\n        state,\n        orientation: props.orientation,\n        isReversed: props.isReversed,\n        colorScheme: props.colorScheme,\n        trackProps,\n        onTrackLayout: onLayout,\n        thumbSize: themeProps.thumbSize,\n        sliderSize: themeProps.sliderSize,\n      }}\n    >\n      <Box\n        {...wrapperStyle}\n        justifyContent=\"center\"\n        ref={ref}\n        alignItems=\"center\"\n        {...themeProps}\n      >\n        {React.Children.map(props.children, (child, index) => {\n          if (child.displayName === 'SliderThumb') {\n            return React.cloneElement(child as React.ReactElement, {\n              index,\n            });\n          }\n\n          return child;\n        })}\n      </Box>\n    </SliderContext.Provider>\n  );\n}\n\nexport default forwardRef(Slider);\n"]},"metadata":{},"sourceType":"script"}