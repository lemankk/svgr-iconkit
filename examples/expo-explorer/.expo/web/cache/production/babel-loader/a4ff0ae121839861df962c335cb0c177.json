{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=exports.SelectContext=void 0;var _toConsumableArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _react=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native-web/dist/index\");var _Actionsheet=require(\"../../composites/Actionsheet\");var _Box=_interopRequireDefault(require(\"../Box\"));var _Input=require(\"../Input\");var _focus=require(\"@react-native-aria/focus\");var _hooks=require(\"../../../hooks\");var _useThemeProps=require(\"../../../hooks/useThemeProps\");var _interactions=require(\"@react-native-aria/interactions\");var _utils=require(\"../../../utils\");var _FormControl=require(\"../../composites/FormControl\");var _utils2=require(\"../../../theme/tools/utils\");var _Icons=require(\"../Icon/Icons\");var _this=this,_jsxFileName=\"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/primitives/Select/Select.tsx\";var unstyledSelecWebtStyles={width:'100%',height:'100%',appearance:'none',WebkitAppearance:'none',MozAppearance:'none'};var SelectContext=_react.default.createContext({onValueChange:function onValueChange(){},selectedValue:null,_selectedItem:{},_item:{}});exports.SelectContext=SelectContext;var Select=function Select(_ref2,ref){var onValueChange=_ref2.onValueChange,selectedValue=_ref2.selectedValue,children=_ref2.children,dropdownIcon=_ref2.dropdownIcon,dropdownCloseIcon=_ref2.dropdownCloseIcon,dropdownOpenIcon=_ref2.dropdownOpenIcon,placeholder=_ref2.placeholder,accessibilityLabel=_ref2.accessibilityLabel,defaultValue=_ref2.defaultValue,size=_ref2.size,_item=_ref2._item,_selectedItem=_ref2._selectedItem,wrapperRef=_ref2.wrapperRef,props=(0,_objectWithoutProperties2.default)(_ref2,[\"onValueChange\",\"selectedValue\",\"children\",\"dropdownIcon\",\"dropdownCloseIcon\",\"dropdownOpenIcon\",\"placeholder\",\"accessibilityLabel\",\"defaultValue\",\"size\",\"_item\",\"_selectedItem\",\"wrapperRef\"]);var selectProps=(0,_FormControl.useFormControl)({isDisabled:props.isDisabled,nativeID:props.nativeID});var isDisabled=selectProps.disabled;var _ref=_react.default.useRef(null);var themeProps=(0,_useThemeProps.usePropsResolution)('Input',(0,_extends2.default)({},props,{size:size}));var _React$useState=_react.default.useState(false),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),isOpen=_React$useState2[0],setIsOpen=_React$useState2[1];var _useFocusRing=(0,_focus.useFocusRing)(),focusProps=_useFocusRing.focusProps,isFocusVisible=_useFocusRing.isFocusVisible;var _useHover=(0,_interactions.useHover)({isDisabled:isDisabled},_ref),hoverProps=_useHover.hoverProps,isHovered=_useHover.isHovered;var _useControllableState=(0,_hooks.useControllableState)({value:selectedValue,defaultValue:defaultValue,onChange:function onChange(newValue){onValueChange&&onValueChange(newValue);setIsOpen(false);}}),_useControllableState2=(0,_slicedToArray2.default)(_useControllableState,2),value=_useControllableState2[0],setValue=_useControllableState2[1];var itemsList=_react.default.Children.map(children,function(child){return{label:child.props.label,value:child.props.value};});var selectedItemArray=itemsList.filter(function(item){return item.value===value;});var selectedItem=selectedItemArray&&selectedItemArray.length?selectedItemArray[0]:null;var _usePropsResolution=(0,_useThemeProps.usePropsResolution)('Select',props),variant=_usePropsResolution.variant,customDropdownIconProps=_usePropsResolution.customDropdownIconProps,_actionSheetContent=_usePropsResolution._actionSheetContent,newProps=(0,_objectWithoutProperties2.default)(_usePropsResolution,[\"variant\",\"customDropdownIconProps\",\"_actionSheetContent\"]);var _extractInObject=(0,_utils2.extractInObject)(newProps,(0,_toConsumableArray2.default)(_utils2.stylingProps.border)),_extractInObject2=(0,_slicedToArray2.default)(_extractInObject,2),borderProps=_extractInObject2[0],remainingProps=_extractInObject2[1];var _extractInObject3=(0,_utils2.extractInObject)(remainingProps,[].concat((0,_toConsumableArray2.default)(_utils2.stylingProps.margin),(0,_toConsumableArray2.default)(_utils2.stylingProps.layout),(0,_toConsumableArray2.default)(_utils2.stylingProps.flexbox),(0,_toConsumableArray2.default)(_utils2.stylingProps.position),(0,_toConsumableArray2.default)(_utils2.stylingProps.background))),_extractInObject4=(0,_slicedToArray2.default)(_extractInObject3,2),layoutProps=_extractInObject4[0],nonLayoutProps=_extractInObject4[1];var rightIcon=isOpen&&dropdownOpenIcon?dropdownOpenIcon:!isOpen&&dropdownCloseIcon?dropdownCloseIcon:dropdownIcon?dropdownIcon:_react.default.createElement(_Icons.ChevronDownIcon,(0,_extends2.default)({},customDropdownIconProps,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:115,columnNumber:7}}));var commonInput=_react.default.createElement(_Input.Input,(0,_extends2.default)({\"aria-hidden\":true,importantForAccessibility:\"no\",value:selectedItem==null?void 0:selectedItem.label,placeholder:placeholder,editable:false,focusable:false,size:size,variant:variant,InputRightElement:rightIcon},isHovered?themeProps._hover:{},nonLayoutProps,borderProps,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:119,columnNumber:5}}));return _react.default.createElement(_Box.default,(0,_extends2.default)({borderWidth:1,borderColor:\"transparent\"},layoutProps,{borderRadius:themeProps.borderRadius},isFocusVisible?themeProps._focus:{},{ref:wrapperRef,__self:_this,__source:{fileName:_jsxFileName,lineNumber:136,columnNumber:5}}),_reactNative.Platform.OS==='web'?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_Box.default,{w:\"100%\",h:\"100%\",position:\"absolute\",opacity:\"0\",zIndex:1,__self:_this,__source:{fileName:_jsxFileName,lineNumber:146,columnNumber:11}},_react.default.createElement(\"select\",(0,_extends2.default)({},selectProps,{disabled:isDisabled},focusProps,hoverProps,{ref:(0,_utils.mergeRefs)([ref,_ref]),style:unstyledSelecWebtStyles,onChange:function onChange(e){setValue(e.target.value);},value:value,\"aria-label\":placeholder,__self:_this,__source:{fileName:_jsxFileName,lineNumber:147,columnNumber:13}}),children)),commonInput):_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_reactNative.Pressable,{onPress:function onPress(){return setIsOpen(true);},disabled:isDisabled,accessibilityLabel:accessibilityLabel,accessibilityRole:\"button\",ref:(0,_utils.mergeRefs)([ref,_ref]),__self:_this,__source:{fileName:_jsxFileName,lineNumber:168,columnNumber:11}},_react.default.createElement(_reactNative.View,{pointerEvents:\"none\",__self:_this,__source:{fileName:_jsxFileName,lineNumber:175,columnNumber:13}},commonInput)),_react.default.createElement(_Actionsheet.Actionsheet,{isOpen:isOpen,onClose:function onClose(){return setIsOpen(false);},__self:_this,__source:{fileName:_jsxFileName,lineNumber:177,columnNumber:11}},_react.default.createElement(_Actionsheet.Actionsheet.Content,(0,_extends2.default)({},_actionSheetContent,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:178,columnNumber:13}}),_react.default.createElement(_reactNative.ScrollView,{style:{width:'100%'},__self:_this,__source:{fileName:_jsxFileName,lineNumber:179,columnNumber:15}},_react.default.createElement(SelectContext.Provider,{value:{onValueChange:setValue,selectedValue:value,_selectedItem:_selectedItem!=null?_selectedItem:{},_item:_item!=null?_item:{}},__self:_this,__source:{fileName:_jsxFileName,lineNumber:180,columnNumber:17}},children))))));};var _default=(0,_react.memo)((0,_react.forwardRef)(Select));exports.default=_default;","map":{"version":3,"sources":["Select.tsx"],"names":["unstyledSelecWebtStyles","width","height","appearance","WebkitAppearance","MozAppearance","SelectContext","React","onValueChange","selectedValue","_selectedItem","_item","Select","children","dropdownIcon","dropdownCloseIcon","dropdownOpenIcon","placeholder","accessibilityLabel","defaultValue","size","wrapperRef","props","selectProps","isDisabled","nativeID","_ref","themeProps","isOpen","setIsOpen","focusProps","isFocusVisible","hoverProps","isHovered","value","setValue","onChange","itemsList","label","child","selectedItemArray","item","selectedItem","variant","customDropdownIconProps","_actionSheetContent","newProps","borderProps","remainingProps","stylingProps","layoutProps","nonLayoutProps","rightIcon","commonInput","Platform","e"],"mappings":"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","sourcesContent":["import React, { forwardRef, memo } from 'react';\nimport type { ISelectProps } from './types';\nimport { Platform, View, Pressable, ScrollView } from 'react-native';\nimport { Actionsheet } from '../../composites/Actionsheet';\nimport Box from '../Box';\nimport { Input } from '../Input';\nimport { useFocusRing } from '@react-native-aria/focus';\nimport { useControllableState } from '../../../hooks';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { useHover } from '@react-native-aria/interactions';\nimport { mergeRefs } from '../../../utils';\nimport { useFormControl } from '../../composites/FormControl';\nimport { extractInObject, stylingProps } from '../../../theme/tools/utils';\nimport { ChevronDownIcon } from '../Icon/Icons';\nimport type { IButtonProps } from '../Button/types';\n\nconst unstyledSelecWebtStyles = {\n  width: '100%',\n  height: '100%',\n  appearance: 'none',\n  WebkitAppearance: 'none',\n  MozAppearance: 'none',\n};\n\nexport const SelectContext = React.createContext({\n  onValueChange: (() => {}) as any,\n  selectedValue: null as any,\n  _selectedItem: {} as IButtonProps,\n  _item: {} as IButtonProps,\n});\n\nconst Select = (\n  {\n    onValueChange,\n    selectedValue,\n    children,\n    dropdownIcon,\n    dropdownCloseIcon,\n    dropdownOpenIcon,\n    placeholder,\n    accessibilityLabel,\n    defaultValue,\n    size,\n    _item,\n    _selectedItem,\n    wrapperRef,\n    ...props\n  }: ISelectProps,\n  ref: any\n) => {\n  const selectProps = useFormControl({\n    isDisabled: props.isDisabled,\n    nativeID: props.nativeID,\n  });\n\n  const isDisabled = selectProps.disabled;\n\n  const _ref = React.useRef(null);\n  const themeProps = usePropsResolution('Input', { ...props, size });\n  let [isOpen, setIsOpen] = React.useState<boolean>(false);\n\n  const { focusProps, isFocusVisible } = useFocusRing();\n  const { hoverProps, isHovered } = useHover({ isDisabled }, _ref);\n\n  const [value, setValue] = useControllableState({\n    value: selectedValue,\n    defaultValue,\n    onChange: (newValue) => {\n      onValueChange && onValueChange(newValue);\n      setIsOpen(false);\n    },\n  });\n\n  let itemsList: Array<{ label: string; value: string }> = React.Children.map(\n    children,\n    (child: any) => {\n      return {\n        label: child.props.label,\n        value: child.props.value,\n      };\n    }\n  );\n\n  const selectedItemArray = itemsList.filter(\n    (item: any) => item.value === value\n  );\n  const selectedItem =\n    selectedItemArray && selectedItemArray.length ? selectedItemArray[0] : null;\n\n  const {\n    variant,\n    customDropdownIconProps,\n    _actionSheetContent,\n    ...newProps\n  } = usePropsResolution('Select', props);\n  const [borderProps, remainingProps] = extractInObject(newProps, [\n    ...stylingProps.border,\n  ]);\n  const [layoutProps, nonLayoutProps] = extractInObject(remainingProps, [\n    ...stylingProps.margin,\n    ...stylingProps.layout,\n    ...stylingProps.flexbox,\n    ...stylingProps.position,\n    ...stylingProps.background,\n  ]);\n\n  const rightIcon =\n    isOpen && dropdownOpenIcon ? (\n      dropdownOpenIcon\n    ) : !isOpen && dropdownCloseIcon ? (\n      dropdownCloseIcon\n    ) : dropdownIcon ? (\n      dropdownIcon\n    ) : (\n      <ChevronDownIcon {...customDropdownIconProps} />\n    );\n\n  const commonInput = (\n    <Input\n      aria-hidden={true}\n      importantForAccessibility=\"no\"\n      value={selectedItem?.label}\n      placeholder={placeholder}\n      editable={false}\n      focusable={false}\n      size={size}\n      variant={variant}\n      InputRightElement={rightIcon}\n      {...(isHovered ? themeProps._hover : {})}\n      {...nonLayoutProps}\n      {...borderProps}\n    />\n  );\n\n  return (\n    <Box\n      borderWidth={1}\n      borderColor=\"transparent\"\n      {...layoutProps}\n      borderRadius={themeProps.borderRadius}\n      {...(isFocusVisible ? themeProps._focus : {})}\n      ref={wrapperRef}\n    >\n      {Platform.OS === 'web' ? (\n        <>\n          <Box w=\"100%\" h=\"100%\" position=\"absolute\" opacity=\"0\" zIndex={1}>\n            <select\n              {...selectProps}\n              disabled={isDisabled}\n              {...focusProps}\n              {...hoverProps}\n              ref={mergeRefs([ref, _ref])}\n              //@ts-ignore\n              style={unstyledSelecWebtStyles}\n              onChange={(e) => {\n                setValue(e.target.value);\n              }}\n              value={value}\n              aria-label={placeholder}\n            >\n              {children}\n            </select>\n          </Box>\n          {commonInput}\n        </>\n      ) : (\n        <>\n          <Pressable\n            onPress={() => setIsOpen(true)}\n            disabled={isDisabled}\n            accessibilityLabel={accessibilityLabel}\n            accessibilityRole=\"button\"\n            ref={mergeRefs([ref, _ref])}\n          >\n            <View pointerEvents=\"none\">{commonInput}</View>\n          </Pressable>\n          <Actionsheet isOpen={isOpen} onClose={() => setIsOpen(false)}>\n            <Actionsheet.Content {..._actionSheetContent}>\n              <ScrollView style={{ width: '100%' }}>\n                <SelectContext.Provider\n                  value={{\n                    onValueChange: setValue,\n                    selectedValue: value,\n                    _selectedItem: _selectedItem ?? {},\n                    _item: _item ?? {},\n                  }}\n                >\n                  {children}\n                </SelectContext.Provider>\n              </ScrollView>\n            </Actionsheet.Content>\n          </Actionsheet>\n        </>\n      )}\n    </Box>\n  );\n};\n\nexport default memo(forwardRef(Select));\n"]},"metadata":{},"sourceType":"script"}