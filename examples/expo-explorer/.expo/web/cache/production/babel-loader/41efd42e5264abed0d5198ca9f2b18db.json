{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _react=_interopRequireDefault(require(\"react\"));var _Box=_interopRequireDefault(require(\"../../primitives/Box\"));var _hooks=require(\"../../../hooks\");var _Context=require(\"./Context\");var _collections=require(\"@react-stately/collections\");var _tabs=require(\"@react-stately/tabs\");var _TabViews=_interopRequireDefault(require(\"./TabViews\"));var _TabBar=_interopRequireDefault(require(\"./TabBar\"));var _tabs2=require(\"@react-native-aria/tabs\");var _utils=require(\"../../../utils\");var _this=this,_jsxFileName=\"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/composites/Tabs/Tabs.tsx\";var getTabsAndBars=function getTabsAndBars(children){var bars=[];var views=[];var items=_react.default.Children.toArray(children);var tabBarProps={props:{},ref:undefined};var tabViewsProps={props:{},ref:undefined};items.forEach(function(item){if(item.type){if(item.type.displayName==='TabBar'){bars=bars.concat(item.props.children);tabBarProps={props:item.props,ref:item.ref};}else if(item.type.displayName==='TabViews'){views=views.concat(item.props.children);tabViewsProps={props:item.props,ref:item.ref};}}});return{views:views,bars:bars,tabViewsProps:tabViewsProps,tabBarProps:tabBarProps};};var convertToCollectionItems=function convertToCollectionItems(children){var _getTabsAndBars=getTabsAndBars(children),views=_getTabsAndBars.views,bars=_getTabsAndBars.bars;return bars.map(function(bar,index){var textValue;if(bar.props.accessibilityLabel){textValue=bar.props.accessibilityLabel;}else if(typeof bar.props.children==='string'){textValue=bar.props.children;}else if(__DEV__){console.warn('Please pass accessibilityLabel into Tabs.Tab component');}return _react.default.createElement(_collections.Item,{key:index,title:bar,textValue:textValue,__self:_this,__source:{fileName:_jsxFileName,lineNumber:43,columnNumber:7}},views[index]);});};var Tabs=function Tabs(_ref,ref){var children=_ref.children,props=(0,_objectWithoutProperties2.default)(_ref,[\"children\"]);var _useThemeProps=(0,_hooks.useThemeProps)('Tabs',props),onChange=_useThemeProps.onChange,activeTabStyle=_useThemeProps.activeTabStyle,inactiveTabStyle=_useThemeProps.inactiveTabStyle,activeIconProps=_useThemeProps.activeIconProps,inactiveIconProps=_useThemeProps.inactiveIconProps,tabBarStyle=_useThemeProps.tabBarStyle,isFitted=_useThemeProps.isFitted,align=_useThemeProps.align,newProps=(0,_objectWithoutProperties2.default)(_useThemeProps,[\"onChange\",\"activeTabStyle\",\"inactiveTabStyle\",\"activeIconProps\",\"inactiveIconProps\",\"tabBarStyle\",\"isFitted\",\"align\"]);var collectionChildren=convertToCollectionItems(children);var _getTabsAndBars2=getTabsAndBars(children),tabBarProps=_getTabsAndBars2.tabBarProps,tabViewsProps=_getTabsAndBars2.tabViewsProps;var mappedProps={children:collectionChildren,defaultSelectedKey:props.defaultIndex!==undefined?props.defaultIndex.toString():undefined,selectedKey:props.index!==undefined?props.index.toString():undefined,onSelectionChange:function onSelectionChange(e){return onChange&&onChange(parseInt(e));},keyboardActivation:props.keyboardActivation};var state=(0,_tabs.useTabsState)(mappedProps);var setAlign=function setAlign(){switch(align){case'start':return'flex-start';case'end':return'flex-end';case'center':return'center';default:return'flex-start';}};var tablistRef=_react.default.useRef();var _useTabs=(0,_tabs2.useTabs)(mappedProps,state,tablistRef),tabListProps=_useTabs.tabListProps,tabPanelProps=_useTabs.tabPanelProps;return _react.default.createElement(_Context.TabsContext.Provider,{value:{activeTabStyle:activeTabStyle,inactiveTabStyle:inactiveTabStyle,activeIconProps:activeIconProps,inactiveIconProps:inactiveIconProps,tabBarStyle:tabBarStyle,isFitted:isFitted,align:setAlign(),state:state},__self:_this,__source:{fileName:_jsxFileName,lineNumber:91,columnNumber:5}},_react.default.createElement(_Box.default,(0,_extends2.default)({width:\"100%\"},newProps,{ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:103,columnNumber:7}}),_react.default.createElement(_TabBar.default,(0,_extends2.default)({tabListProps:tabListProps},tabBarProps.props,{tablistRef:(0,_utils.mergeRefs)([tablistRef,tabBarProps.ref]),__self:_this,__source:{fileName:_jsxFileName,lineNumber:104,columnNumber:9}})),_react.default.createElement(_TabViews.default,(0,_extends2.default)({},tabPanelProps,tabViewsProps.props,{ref:tabViewsProps.ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:109,columnNumber:9}}),state.selectedItem&&state.selectedItem.props.children)));};var _default=_react.default.memo(_react.default.forwardRef(Tabs));exports.default=_default;","map":{"version":3,"sources":["Tabs.tsx"],"names":["getTabsAndBars","bars","views","items","React","tabBarProps","props","ref","tabViewsProps","item","convertToCollectionItems","bar","textValue","console","Tabs","children","onChange","activeTabStyle","inactiveTabStyle","activeIconProps","inactiveIconProps","tabBarStyle","isFitted","align","newProps","collectionChildren","mappedProps","defaultSelectedKey","selectedKey","onSelectionChange","parseInt","keyboardActivation","state","setAlign","tablistRef","tabListProps","tabPanelProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Box from '../../primitives/Box';\nimport type { ITabsProps } from './types';\nimport { useThemeProps } from '../../../hooks';\nimport { TabsContext } from './Context';\nimport { Item } from '@react-stately/collections';\nimport { useTabsState } from '@react-stately/tabs';\nimport TabViews from './TabViews';\nimport TabBar from './TabBar';\nimport { useTabs } from '@react-native-aria/tabs';\nimport { mergeRefs } from '../../../utils';\nconst getTabsAndBars = (children: any) => {\n  let bars: any = [];\n  let views: any = [];\n  let items = React.Children.toArray(children);\n  let tabBarProps: any = { props: {}, ref: undefined };\n  let tabViewsProps = { props: {}, ref: undefined };\n  items.forEach((item: any) => {\n    if (item.type) {\n      if (item.type.displayName === 'TabBar') {\n        bars = bars.concat(item.props.children);\n        tabBarProps = { props: item.props, ref: item.ref };\n      } else if (item.type.displayName === 'TabViews') {\n        views = views.concat(item.props.children);\n        tabViewsProps = { props: item.props, ref: item.ref };\n      }\n    }\n  });\n  return { views, bars, tabViewsProps, tabBarProps };\n};\nconst convertToCollectionItems = (children: any) => {\n  const { views, bars } = getTabsAndBars(children);\n  return bars.map((bar: any, index: number) => {\n    let textValue;\n    if (bar.props.accessibilityLabel) {\n      textValue = bar.props.accessibilityLabel;\n    } else if (typeof bar.props.children === 'string') {\n      textValue = bar.props.children;\n    } else if (__DEV__) {\n      console.warn('Please pass accessibilityLabel into Tabs.Tab component');\n    }\n    return (\n      <Item key={index} title={bar} textValue={textValue}>\n        {views[index]}\n      </Item>\n    );\n  });\n};\nconst Tabs = ({ children, ...props }: ITabsProps, ref: any) => {\n  const {\n    onChange,\n    activeTabStyle,\n    inactiveTabStyle,\n    activeIconProps,\n    inactiveIconProps,\n    tabBarStyle,\n    isFitted,\n    align,\n    ...newProps\n  } = useThemeProps('Tabs', props);\n  // useTabsState needs collection children.\n  const collectionChildren = convertToCollectionItems(children);\n  const { tabBarProps, tabViewsProps } = getTabsAndBars(children);\n  const mappedProps = {\n    children: collectionChildren,\n    defaultSelectedKey:\n      props.defaultIndex !== undefined\n        ? props.defaultIndex.toString()\n        : undefined,\n    selectedKey: props.index !== undefined ? props.index.toString() : undefined,\n    onSelectionChange: (e: any) => onChange && onChange(parseInt(e)),\n    keyboardActivation: props.keyboardActivation,\n  };\n  // useTabsState needs collection children.\n  let state = useTabsState(mappedProps);\n  const setAlign = () => {\n    switch (align) {\n      case 'start':\n        return 'flex-start';\n      case 'end':\n        return 'flex-end';\n      case 'center':\n        return 'center';\n      default:\n        return 'flex-start';\n    }\n  };\n  let tablistRef = React.useRef<any>();\n  let { tabListProps, tabPanelProps } = useTabs(mappedProps, state, tablistRef);\n  return (\n    <TabsContext.Provider\n      value={{\n        activeTabStyle,\n        inactiveTabStyle,\n        activeIconProps,\n        inactiveIconProps,\n        tabBarStyle,\n        isFitted,\n        align: setAlign(),\n        state,\n      }}\n    >\n      <Box width=\"100%\" {...newProps} ref={ref}>\n        <TabBar\n          tabListProps={tabListProps}\n          {...tabBarProps.props}\n          tablistRef={mergeRefs([tablistRef, tabBarProps.ref])}\n        />\n        <TabViews\n          {...tabPanelProps}\n          {...tabViewsProps.props}\n          ref={tabViewsProps.ref}\n        >\n          {state.selectedItem && state.selectedItem.props.children}\n        </TabViews>\n      </Box>\n    </TabsContext.Provider>\n  );\n};\nexport default React.memo(React.forwardRef(Tabs));\n"]},"metadata":{},"sourceType":"script"}