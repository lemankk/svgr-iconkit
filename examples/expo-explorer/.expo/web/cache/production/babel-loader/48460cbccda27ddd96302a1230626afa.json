{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _react=_interopRequireWildcard(require(\"react\"));var _Text=_interopRequireDefault(require(\"../../primitives/Text\"));var _useThemeProps=require(\"../../../hooks/useThemeProps\");var _Pressable=require(\"../../primitives/Pressable\");var _MenuContext=require(\"./MenuContext\");var _useMenu=require(\"./useMenu\");var _utils=require(\"../../../utils\");var _this=this,_jsxFileName=\"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/composites/Menu/MenuItem.tsx\";var MenuItem=function MenuItem(_ref,ref){var children=_ref.children,_onPress=_ref.onPress,style=_ref.style,textValue=_ref.textValue,props=(0,_objectWithoutProperties2.default)(_ref,[\"children\",\"onPress\",\"style\",\"textValue\"]);var _React$useContext=_react.default.useContext(_MenuContext.MenuContext),closeOnSelect=_React$useContext.closeOnSelect,onClose=_React$useContext.onClose;var menuItemRef=_react.default.useRef(null);var mergedRef=(0,_utils.mergeRefs)([menuItemRef,ref]);var newProps=(0,_useThemeProps.usePropsResolution)('MenuItem',props);var _React$useState=_react.default.useState(''),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),textContent=_React$useState2[0],setTextContent=_React$useState2[1];_react.default.useEffect(function(){var menuItem=menuItemRef.current;if(menuItem){var _menuItem$textContent;setTextContent(((_menuItem$textContent=menuItem.textContent)!=null?_menuItem$textContent:'').trim());}},[children]);var allProps=(0,_extends2.default)({},newProps,newProps.isDisabled?newProps._disabled:{});var _text=allProps._text,_pressed=allProps._pressed,_focus=allProps._focus,touchProps=(0,_objectWithoutProperties2.default)(allProps,[\"_text\",\"_pressed\",\"_focus\"]);var menuItemProps=(0,_useMenu.useMenuItem)({textValue:textValue!=null?textValue:textContent,ref:menuItemRef});return _react.default.createElement(_Pressable.Pressable,(0,_extends2.default)({_pressed:_pressed,_focus:_focus},menuItemProps,touchProps,{ref:mergedRef,style:style,disabled:props.isDisabled,accessibilityState:{disabled:props.isDisabled},onPress:function onPress(e){if(!props.isDisabled){_onPress&&_onPress(e);if(closeOnSelect){onClose&&onClose();}}},__self:_this,__source:{fileName:_jsxFileName,lineNumber:38,columnNumber:5}}),_react.default.createElement(_react.default.Fragment,null,_react.default.Children.map(children,function(child,index){if(typeof child==='string'){return _react.default.createElement(_Text.default,(0,_extends2.default)({},_text,{key:\"menu-item-\"+index,__self:_this,__source:{fileName:_jsxFileName,lineNumber:63,columnNumber:15}}),child);}else{return child;}})));};var _default=(0,_react.memo)((0,_react.forwardRef)(MenuItem));exports.default=_default;","map":{"version":3,"sources":["MenuItem.tsx"],"names":["MenuItem","children","onPress","style","textValue","props","closeOnSelect","onClose","React","MenuContext","menuItemRef","mergedRef","newProps","textContent","setTextContent","menuItem","allProps","_text","_pressed","_focus","touchProps","menuItemProps","ref","disabled"],"mappings":"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","sourcesContent":["import React, { forwardRef, memo } from 'react';\nimport Text from '../../primitives/Text';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { Pressable } from '../../primitives/Pressable';\nimport type { IMenuItemProps } from './types';\nimport { MenuContext } from './MenuContext';\nimport { useMenuItem } from './useMenu';\nimport { mergeRefs } from '../../../utils';\n\nconst MenuItem = (\n  { children, onPress, style, textValue, ...props }: IMenuItemProps,\n  ref: any\n) => {\n  const { closeOnSelect, onClose } = React.useContext(MenuContext);\n  const menuItemRef = React.useRef<any>(null);\n  const mergedRef = mergeRefs([menuItemRef, ref]);\n  const newProps = usePropsResolution('MenuItem', props);\n  const [textContent, setTextContent] = React.useState('');\n  React.useEffect(() => {\n    const menuItem = menuItemRef.current;\n    if (menuItem) {\n      setTextContent((menuItem.textContent ?? '').trim());\n    }\n  }, [children]);\n\n  let allProps = {\n    ...newProps,\n    ...(newProps.isDisabled ? newProps._disabled : {}),\n  };\n  const { _text, _pressed, _focus, ...touchProps } = allProps;\n\n  const menuItemProps = useMenuItem({\n    textValue: textValue ?? textContent,\n    ref: menuItemRef,\n  });\n\n  return (\n    <Pressable\n      _pressed={_pressed}\n      _focus={_focus}\n      {...menuItemProps}\n      {...touchProps}\n      ref={mergedRef}\n      style={style}\n      disabled={props.isDisabled}\n      // TouchableHighlight doesn't announce disabled, even if disabled prop is set\n      accessibilityState={{\n        disabled: props.isDisabled,\n      }}\n      onPress={(e: any) => {\n        if (!props.isDisabled) {\n          onPress && onPress(e);\n          if (closeOnSelect) {\n            onClose && onClose();\n          }\n        }\n      }}\n    >\n      <>\n        {React.Children.map(children, (child, index: any) => {\n          if (typeof child === 'string') {\n            return (\n              <Text {..._text} key={`menu-item-${index}`}>\n                {child}\n              </Text>\n            );\n          } else {\n            return child;\n          }\n        })}\n      </>\n    </Pressable>\n  );\n};\n\nexport default memo(forwardRef(MenuItem));\n"]},"metadata":{},"sourceType":"script"}